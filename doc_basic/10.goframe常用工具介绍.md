# Goframe常用工具介绍

## gstr

```go
	p := fmt.Println
	p("Contains:  ", gstr.Contains("test", "es"))
	p("Count:     ", gstr.Count("test", "t"))
	p("HasPrefix: ", gstr.HasPrefix("test", "te"))
	p("HasSuffix: ", gstr.HasSuffix("test", "st"))
	p("Join:      ", gstr.Join([]string{"a", "b"}, "-"))
	p("Repeat:    ", gstr.Repeat("a", 5))
	p("Replace:   ", gstr.Replace("foo", "o", "0", -1))
	p("Replace:   ", gstr.Replace("foo", "o", "0", 1))
	p("Split:     ", gstr.Split("a-b-c-d-e", "-"))
	p("ToLower:   ", gstr.ToLower("TEST"))
	p("ToUpper:   ", gstr.ToUpper("test"))
	p("Trim:   ", gstr.Trim("  test  "))
```

## gmap和gjson

### JSON序列化/反序列

`gmap`模块下的所有容器类型均实现了标准库`json`数据格式的序列化/反序列化接口。

1. `Marshal`

   ```go
    package main
   
    import (
        "encoding/json"
        "fmt"
        "github.com/gogf/gf/frame/g"
   
        "github.com/gogf/gf/container/gmap"
    )
   
    func main() {
        m := gmap.New()
        m.Sets(g.MapAnyAny{
            "name":  "john",
            "score": 100,
        })
        b, _ := json.Marshal(m)
        fmt.Println(string(b))
    }
   ```

   执行后，输出结果：

   ```undefined
    {"name":"john","score":100}
   ```

2. `Unmarshal`

   ```go
    package main
   
    import (
        "encoding/json"
        "fmt"
        "github.com/gogf/gf/container/gmap"
    )
   
    func main() {
        m := gmap.Map{}
        s := []byte(`{"name":"john","score":100}`)
        json.Unmarshal(s, &m)
        fmt.Println(m.Map())
    }
   ```

   执行后，输出结果：

   copy

   ```undefined
    map[name:john score:100]
   ```



## gmd5



## gconv

`gf`框架提供了非常强大的类型转换包`gconv`，可以实现将任何数据类型转换为指定的数据类型，对常用基本数据类型之间的无缝转换，同时也支持任意类型到`struct`对象的转换。由于`gconv`模块内部大量使用了断言而非反射(仅`struct`转换使用到了反射)，因此执行的效率非常高。

**使用方式**：

```go
// 基本类型
func Bool(i interface{}) bool
func Float32(i interface{}) float32
func Float64(i interface{}) float64
func Int(i interface{}) int
func Int16(i interface{}) int16
func Int32(i interface{}) int32
func Int64(i interface{}) int64
func Int8(i interface{}) int8
func String(i interface{}) string
func Uint(i interface{}) uint
func Uint16(i interface{}) uint16
func Uint32(i interface{}) uint32
func Uint64(i interface{}) uint64
func Uint8(i interface{}) uint8

// slice类型
func Bytes(i interface{}) []byte
func Ints(i interface{}) []int
func Floats(i interface{}) []float64
func Strings(i interface{}) []string
func Interfaces(i interface{}) []interface{}
func Structs(params interface{}, pointer interface{}, mapping ...map[string]string) (err error)
func StructsDeep(params interface{}, pointer interface{}, mapping ...map[string]string) (err error)

// 时间类型
func Time(i interface{}, format ...string) time.Time
func TimeDuration(i interface{}) time.Duration

// Map转换, 支持的类型包括：任意map或struct
func Map(value interface{}, tags ...string) map[string]interface{}
func MapDeep(value interface{}, tags ...string) map[string]interface{}

// 对象转换
func Struct(params interface{}, pointer interface{}, mapping ...map[string]string) error
func StructDeep(params interface{}, pointer interface{}, mapping ...map[string]string) error

// 根据类型名称执行基本类型转换(非struct转换)
func Convert(i interface{}, t string, extraParams ...interface{}) interface{}
```